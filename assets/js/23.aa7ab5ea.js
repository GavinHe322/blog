(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{306:function(e,v,_){"use strict";_.r(v);var t=_(1),a=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"代码迁移"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#代码迁移"}},[e._v("#")]),e._v(" 代码迁移")]),e._v(" "),_("p",[e._v("时间: 2019-11-20")]),e._v(" "),_("hr"),e._v(" "),_("h2",{attrs:{id:"目前项目"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#目前项目"}},[e._v("#")]),e._v(" 目前项目")]),e._v(" "),_("ul",[_("li",[e._v("最新的 element 脚手架是基于 vuecli 3.5+ 版本的。Webpack 4.+版本，其他 npm 包都升级为较新版本。")]),e._v(" "),_("li",[e._v("去掉了 webpack.dev.conf.js，之类的配置，改为用vuecli 推荐的环境变量。")]),e._v(" "),_("li",[e._v("启动速度、打包速度有所提升。")]),e._v(" "),_("li",[e._v("重构了一些代码，如菜单权限、权限管理页面表格展示，去掉了原先 treeTable + 递归重排数据结构 的写法。")]),e._v(" "),_("li",[e._v("原先的初始样式并不多，现在在 "),_("code",[e._v("global.scss")]),e._v(" 增加了一些新的初始样式。")])]),e._v(" "),_("h2",{attrs:{id:"遇到的问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[e._v("#")]),e._v(" 遇到的问题")]),e._v(" "),_("ul",[_("li",[e._v("迁移代码后，根据报错和提示安装以前用到的 npm 包，但是过程中遇到没有提示的错误，后来改为小部分小部分的迁移。")]),e._v(" "),_("li",[e._v("本来增加了 eslint 代码检查，但是由于原先的代码报错和警告太多，就关闭了。")]),e._v(" "),_("li",[_("code",[e._v("vuecli 3.5+")]),e._v(" 环境变量是以 "),_("code",[e._v("VUE_APP")]),e._v(" 开头的，所有原先的 "),_("code",[e._v("process.env.BASE_API")]),e._v(" 变量需要增加 "),_("code",[e._v("VUE_APP")]),e._v(" 前缀。")]),e._v(" "),_("li",[e._v("以为左边的菜单层级是升级导致，结果是原先写死了 100000，已修改为 1000\n"),_("ul",[_("li",[e._v("中间编辑角色的菜单 和 权限 背景颜色可能是之前修改样式影响到的，已修复。")])])]),e._v(" "),_("li",[e._v("走到权限管理时，遇到 "),_("code",[e._v("there’s nested data, rowKey is required")]),e._v(" 错误，\n"),_("ul",[_("li",[e._v("Element嵌套表格需要指定的 row-key=’id’，但是，设置后，出现怪异情况，最后确认是 element 自身版本问题，已降级为 2.7 以下版本")])])]),e._v(" "),_("li",[e._v("航线预测\n"),_("ul",[_("li",[e._v("Inv_date 已经通过 prop 传给子组件了， 然后这里注释掉的写法是调用子组件的方法又重新传值给子组件，会报一个 this prop since will be overwitten")])])]),e._v(" "),_("li",[_("code",[e._v("pdf")]),e._v(" 打包，需要重新配置 "),_("code",[e._v("webpack")]),e._v(" 中 "),_("code",[e._v("file-loader")]),e._v(" 的规则。")])]),e._v(" "),_("h2",{attrs:{id:"清除无用目录-及-package-json-中没有用到的包"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#清除无用目录-及-package-json-中没有用到的包"}},[e._v("#")]),e._v(" 清除无用目录 及 package.json 中没有用到的包.")])])}),[],!1,null,null,null);v.default=a.exports}}]);