(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{209:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("h2",{attrs:{id:"jenkins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[t._v("#")]),t._v(" Jenkins")])]),t._v(" "),e("h3",{attrs:{id:"æ¦‚å¿µ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ"}},[t._v("#")]),t._v(" "),e("strong",[t._v("æ¦‚å¿µ")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Jenkinsæ˜¯ä¸€æ¬¾å¼€æº CI&CD è½¯ä»¶ï¼Œç”¨äºè‡ªåŠ¨åŒ–å„ç§ä»»åŠ¡ï¼ŒåŒ…æ‹¬æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²è½¯ä»¶ã€‚")])]),t._v(" "),e("li",[e("p",[t._v("Jenkins æ”¯æŒå„ç§è¿è¡Œæ–¹å¼ï¼Œå¯é€šè¿‡ç³»ç»ŸåŒ…ã€Docker æˆ–è€…é€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„ Java ç¨‹åºã€‚")])])]),t._v(" "),e("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦å­¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦å­¦"}},[t._v("#")]),t._v(" "),e("strong",[t._v("ä¸ºä»€ä¹ˆè¦å­¦")])]),t._v(" "),e("ul",[e("li",[t._v("å…¬å¸åœ¨ç”¨")]),t._v(" "),e("li",[t._v("ç¨å¾®å¥½ä¸€ç‚¹çš„å²—ä½èŒè´£åƒ"),e("code",[t._v("jenkins")]),t._v("ä¹‹ç±» (æŒç»­é›†æˆã€è‡ªåŠ¨éƒ¨ç½²) çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯å¤šå¤šå°‘å°‘æ˜¯ä¼šæåˆ°çš„ã€‚")]),t._v(" "),e("li",[t._v("ä¼ ç»Ÿçš„åšæ³•ï¼Œåœ¨æœåŠ¡å™¨åˆå§‹ä¸€ä¸ª "),e("code",[t._v("git")]),t._v(" ä»“åº“ï¼Œç„¶åæ¯æ¬¡ä»£ç æ›´æ–°åï¼Œäººå·¥æ‰‹åŠ¨å»æ‹‰å»ï¼Œæ¬¡æ•°å¤šäº†ä¹Ÿå°±çƒ¦äº†ï¼Œè€Œè¿™äº›æ¯æ¬¡åªéœ€åœ¨é¡¹ç›®å¼€å§‹å‰é…ç½®ä¸€é "),e("code",[t._v("jenkins")]),t._v(" ä¹‹åæ‰€æœ‰çš„äººå·¥æ“ä½œéƒ½ä¸éœ€è¦ç®¡äº†ã€‚(ps: æœ‰é—®é¢˜ç”©é”…ç»™ "),e("code",[t._v("jenkins")]),t._v(" å°±è¡Œäº†[å‘²ç‰™])")])]),t._v(" "),e("h3",{attrs:{id:"å‰ç½®ä»»åŠ¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç½®ä»»åŠ¡"}},[t._v("#")]),t._v(" "),e("strong",[t._v("å‰ç½®ä»»åŠ¡")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("centOs")]),t._v(" æœåŠ¡å™¨")]),t._v(" "),e("li",[e("code",[t._v("git")]),t._v("ã€ "),e("code",[t._v("linux")]),t._v("ã€"),e("code",[t._v("shell")]),t._v(" åŸºç¡€å°±è¡Œã€‚")]),t._v(" "),e("li",[e("code",[t._v("nginx")]),t._v("åŸºæœ¬é…ç½®ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"å¼€ç¯‡å‡†å¤‡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¼€ç¯‡å‡†å¤‡"}},[t._v("#")]),t._v(" "),e("strong",[t._v("å¼€ç¯‡å‡†å¤‡")])]),t._v(" "),e("p",[e("strong",[t._v("åˆå§‹ä¸€ä¸ª "),e("code",[t._v("vuecli")]),t._v(" é¡¹ç›®ï¼Œè®¿é—®å¦‚ä¸‹")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97572df9eaafb?w=3318&h=1108&f=png&s=156601",alt:""}}),t._v(" "),e("strong",[t._v("åœ¨ "),e("code",[t._v("github")]),t._v(" åˆ›å»ºä»“åº“")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e975c831902e62?w=2488&h=1560&f=png&s=447256",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("é…ç½® "),e("code",[t._v("github webhook")])])]),t._v(" "),e("p",[e("code",[t._v("http://ip:8080/github-webhook/")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97f623c208cc2?w=2264&h=1600&f=png&s=353667",alt:""}})]),t._v(" "),e("blockquote",[e("h2",{attrs:{id:"ç›®å½•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›®å½•"}},[t._v("#")]),t._v(" "),e("strong",[t._v("ç›®å½•")])])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"}},[t._v("jenkins ç¯å¢ƒæ­å»º")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E6%96%B0%E5%BB%BA%E4%BB%BB%E5%8A%A1"}},[t._v("æ–°å»º jenkins ä»»åŠ¡")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#nginx"}},[t._v("nginxè®¿é—®")])])]),t._v(" "),e("h3",{attrs:{id:"ç¯å¢ƒæ­å»º"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç¯å¢ƒæ­å»º"}},[t._v("#")]),t._v(" ç¯å¢ƒæ­å»º")]),t._v(" "),e("p",[t._v("ç™»å½•æœåŠ¡å™¨")]),t._v(" "),e("p",[e("strong",[t._v("å®‰è£…"),e("code",[t._v("java")]),t._v("ä¾èµ–")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("yum install java\n")])])]),e("p",[e("strong",[t._v("ä½¿ç”¨ "),e("code",[t._v("wget")]),t._v(" æ·»åŠ "),e("code",[t._v("jenkinsæº")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo\nrpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key\n")])])]),e("p",[e("strong",[t._v("å®‰è£…ä¹‹åä½¿ç”¨ "),e("code",[t._v("yum")]),t._v(" å‘½ä»¤å°±èƒ½ä¸‹è½½äº†ã€‚")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("yum install jenkins\n")])])]),e("p",[e("strong",[t._v("jenkins ä¿®æ”¹æƒé™ ç«¯å£ä¹‹ç±»çš„ï¼Œåœ¨è¯¥ä½ç½®")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vim /etc/sysconfig/jenkins\n")])])]),e("ul",[e("li",[t._v("JENKINS_PORT -> jenkinsçš„"),e("strong",[t._v("å¯åŠ¨ç«¯å£")]),t._v("ï¼Œé»˜è®¤"),e("code",[t._v("8080")])]),t._v(" "),e("li",[t._v("JENKINS_USER -> jenkins ç”¨æˆ·ï¼Œä¿®æ”¹ä¸º"),e("code",[t._v("root")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('// è¿™é‡Œæˆ‘å°† JENKINS_USER ä¿®æ”¹ä¸º root ç”¨æˆ·äº†ã€‚\nJENKINS_USER="root"\n')])])]),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e977fff4cdd93a?w=932&h=262&f=png&s=128287",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("ä½¿ç”¨ "),e("code",[t._v("chown")]),t._v("ç»™ "),e("code",[t._v("jenkins")]),t._v(" æŒ‡å®šæ‰€æœ‰æƒ")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("chown -R root:root /var/lib/jenkins\nchown -R root:root /var/cache/jenkins\nchown -R root:root /var/log/jenkins\n")])])]),e("p",[e("strong",[t._v("å¯åŠ¨ "),e("code",[t._v("jenkins")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("service jenkins restart\n")])])]),e("p",[t._v("çœ‹åˆ° ok å³å¯")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e9781cdc4d0d20?w=1022&h=116&f=png&s=56478",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("è®¿é—®"),e("code",[t._v("jenkins")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ipåœ°å€ + 8080\n")])])]),e("p",[t._v("é¦–æ¬¡è®¿é—®æ˜¯è¿™æ ·å­çš„(å®˜ç½‘å›¾).")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e9785b24b1c66d?w=990&h=679&f=jpeg&s=80191",alt:""}})]),t._v(" "),e("p",[t._v("è¿™å¼ å›¾çº¢è‰²åœˆèµ·æ¥çš„æ›¿æ¢æˆä½ é¡µé¢æ˜¾ç¤ºçš„")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cat /val/jenkins_home/xxxx/xxx\n")])])]),e("p",[t._v("ç„¶åå°†æ˜¾ç¤ºçš„å¤åˆ¶åˆ° è¾“å…¥æ¡†åï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯ã€‚")]),t._v(" "),e("p",[e("strong",[t._v("ç„¶ååˆ°å®‰è£…æ’ä»¶é¡µé¢")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e9788ee23d7956?w=992&h=562&f=webp&s=18674",alt:""}}),t._v("\næˆ‘è¿™é‡Œæ˜¯ç‚¹å‡»çš„ å®‰è£…æ¨èæ’ä»¶ é€‰é¡¹ã€‚")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e978ab3e4fa7fb?w=1049&h=711&f=webp&s=15688",alt:""}}),t._v("\nç­‰å¾…å³å¯ï¼Œæœ‰ç‚¹æ¼«é•¿ loading...\n"),e("br")]),t._v(" "),e("p",[e("strong",[t._v("åˆ›å»ºç”¨æˆ·")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e978ce5d84f03b?w=997&h=440&f=webp&s=8020",alt:""}}),t._v(" "),e("strong",[t._v("ç„¶ååˆ°è¿™é‡Œ jenkins å°±å®‰è£…å®Œæ¯•äº†ï¼Œç‚¹å‡»å¼€å§‹ä½¿ç”¨ã€‚")]),t._v(" "),e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e978d39e1efa02?w=1002&h=287&f=webp&s=6772",alt:""}}),t._v(" "),e("br")]),t._v(" "),e("h3",{attrs:{id:"æ–°å»ºä»»åŠ¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ–°å»ºä»»åŠ¡"}},[t._v("#")]),t._v(" æ–°å»ºä»»åŠ¡")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97a483911d4c4?w=2892&h=1716&f=png&s=468248",alt:""}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97a72f3a5eceb?w=2380&h=1740&f=png&s=297530",alt:""}}),t._v("\næ„å»ºè§¦å‘å™¨ï¼Œå°±æ˜¯ç›‘å¬ "),e("code",[t._v("github")]),t._v(" çš„ "),e("code",[t._v("webhook")]),t._v("ï¼Œå¦‚æœ‰æ–°çš„ "),e("code",[t._v("push")]),t._v(" å é‡æ–°æ„å»ºã€‚\n"),e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97f13c9584b74?w=2218&h=1274&f=png&s=224857",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97a8ef003bf27?w=2480&h=1676&f=png&s=233063",alt:""}}),t._v("\næ­¤æ—¶ä¿å­˜å³å¯")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97ab1c9f352c8?w=1462&h=1328&f=png&s=273397",alt:""}}),t._v("\nç‚¹å‡»é‚£ä¸ª w åˆ—çš„ğŸŒ(å¤ªé˜³)ï¼Œè¿™é‡Œæ˜¯æ„å»ºçš„æè¿°ï¼Œ\nå¦‚æœæ„å»ºå¤±è´¥çš„è¯ï¼Œä½ å¯ä»¥æ ¹æ®è¿™é‡Œçš„æç¤ºå®šä½é—®é¢˜ã€‚")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97ae9d2cc2f2f?w=2218&h=1166&f=png&s=447670",alt:""}}),t._v("\nè¿™é‡Œæˆ‘å½“æ—¶è’™è”½äº†ä¸€ä¸‹ï¼Œæˆ‘å°±åœ¨æƒ³æ„å»ºåçš„æ–‡ä»¶å»å“ªé‡Œäº†ï¼Œæˆ‘è¯¥æ€ä¹ˆè®¿é—®?")]),t._v(" "),e("p",[e("strong",[t._v("æ„å»ºåçš„å­˜æ”¾åœ°å€")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd /var/lib/jenkins/workspace\n")])])]),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97c2d25d7766e?w=666&h=198&f=png&s=74372",alt:""}}),t._v(" "),e("strong",[t._v("æ­¤æ—¶æˆ‘ä»¬åœ¨å»ä¿®æ”¹ä¸€ä¸‹é…ç½®ä¿¡æ¯ä¸­çš„ "),e("code",[t._v("shell")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("node -v\nnpm -v\nnpm install\nnpm run build\n")])])]),e("p",[t._v("å‘ç°æ„å»ºå¤±è´¥??")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97c80f626adc0?w=2060&h=1128&f=png&s=412669",alt:""}}),t._v("\nä¸è¿‡æ²¡å…³ç³»")]),t._v(" "),e("p",[t._v("æˆ‘ä»¬è¿›å…¥å…¨å±€è®¾ç½®çš„æ’ä»¶ç®¡ç†")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97d00ff0d17fe?w=2416&h=664&f=png&s=138227",alt:""}}),t._v("\nä¸‹è½½å®Œåï¼Œæˆ‘ä»¬å»å…¨å±€é…ç½®ç®¡ç†ï¼Œå‘ç°å¯¹äº† ä¸€ä¸ª NodeJs é€‰é¡¹ã€‚")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97dba6c7d3eea?w=2456&h=1556&f=png&s=613978",alt:""}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97df209f5c541?w=1890&h=1514&f=png&s=252702",alt:""}}),t._v("\nå•Š åƒè¾›ä¸‡è‹¦ï¼Œç»ˆäºçœ‹åˆ° æˆ‘ä»¬æœ€çˆ±çš„ "),e("code",[t._v("dist")]),t._v(" æ–‡ä»¶äº†ï¼Œè¿™é‡Œä½ çš„ shell å‘½ä»¤å¯ä»¥è‡ªåŠ¨æ‹“å±•ï¼Œå¦‚ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ã€‚\n"),e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e97e71a410c751?w=2360&h=1092&f=png&s=353467",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[t._v("#")]),t._v(" nginx")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd /etc/nginx/conf.d\nvim test-jenkins.conf\n\nserver {\n      listen 8000; # ç›‘å¬ç«¯å£\n      server_name _;\n      location / {\n        # è¿™é‡Œæˆ‘è¿™é‡ŒæŒ‡å‘ jenkins æ„å»ºçš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥åœ¨æ„å»ºæ—¶çš„ shell å°†æ–‡ä»¶ç§»åŠ¨è¦å…¶ä»–åœ°æ–¹ã€‚\n        root  /var/lib/jenkins/workspace/test-jenkins/dist;\n        try_files $uri $uri/ index.html;\n      }\n\n      error_page 500 502 503 504 /50x.html;\n      location = /50x.html {\n        root /usr/share/nginx/html;\n      }\n}\n")])])]),e("p",[t._v("**ç„¶åæ‰“å¼€å°± ip:8000 å°±èƒ½è®¿é—®äº†ã€‚")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e9804b2bf8f65f?w=2890&h=778&f=png&s=121151",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"last"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#last"}},[t._v("#")]),t._v(" "),e("strong",[t._v("last")])]),t._v(" "),e("p",[t._v("æˆ‘ä»¬åœ¨æœ¬åœ° é‡æ–° "),e("code",[t._v("push")]),t._v(" ï¼Œçœ‹ä¸‹è¿™ä¸ªé¡µé¢ä¼šä¸ä¼šå˜ã€‚")]),t._v(" "),e("p",[t._v("æˆ‘ä»¬åˆ·æ–°é¡µé¢å¦‚æœå‘ç° "),e("code",[t._v("404 Not Found")]),t._v(" ä¸è¦æ–¹ï¼Œ"),e("code",[t._v("npm run build")]),t._v(" ä¼šå…ˆåˆ é™¤ "),e("code",[t._v("dist")]),t._v(" æ–‡ä»¶ã€‚")]),t._v(" "),e("p",[e("strong",[t._v("è®¿é—®å¦‚ä¸‹å°±è¯´æ˜æˆ‘ä»¬åŸºæœ¬é…ç½®å…¨éƒ¨å®Œæˆäº†ï¼Œ")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/23/16e980b30c15e52b?w=1972&h=426&f=png&s=83982",alt:""}})])])}),[],!1,null,null,null);s.default=n.exports}}]);